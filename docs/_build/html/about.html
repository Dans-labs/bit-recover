

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>ABOUT &mdash; Bit Recovery 1.2.1 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  

    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:'./',
        VERSION:'1.2.1',
        COLLAPSE_INDEX:false,
        FILE_SUFFIX:'.html',
        HAS_SOURCE:  true
      };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
        <link rel="author" title="About these documents"
              href="#"/>
    <link rel="top" title="Bit Recovery 1.2.1 documentation" href="index.html"/>
        <link rel="next" title="checksum.pl" href="checksum.html"/>
        <link rel="prev" title="bit-recover 1.2" href="index.html"/> 

  <script src="//cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="index.html" class="icon icon-home"> Bit Recovery</a>
        <form id ="rtd-search-form" class="wy-form" action="search.html" method="get">
  <input type="text" name="q" placeholder="Search docs" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix">
        
        
            <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="">ABOUT</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#data-in-various-stages-of-decay-and-salvation">Data in various stages of decay and salvation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#account">Account</a></li>
<li class="toctree-l2"><a class="reference internal" href="#contents">Contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="checksum.html">checksum.pl</a><ul>
<li class="toctree-l2"><a class="reference internal" href="checksum.html#description">Description</a></li>
<li class="toctree-l2"><a class="reference internal" href="checksum.html#usage">Usage</a></li>
<li class="toctree-l2"><a class="reference internal" href="checksum.html#generating">Generating</a></li>
<li class="toctree-l2"><a class="reference internal" href="checksum.html#verifying">Verifying</a></li>
<li class="toctree-l2"><a class="reference internal" href="checksum.html#repairing">Repairing</a></li>
<li class="toctree-l2"><a class="reference internal" href="checksum.html#restoring">Restoring</a></li>
<li class="toctree-l2"><a class="reference internal" href="checksum.html#executing">Executing</a></li>
<li class="toctree-l2"><a class="reference internal" href="checksum.html#diagnostics">Diagnostics</a></li>
<li class="toctree-l2"><a class="reference internal" href="checksum.html#author">Author</a></li>
<li class="toctree-l2"><a class="reference internal" href="checksum.html#configuration">Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="checksum.html#implementation-details">Implementation details</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="perfset.html">perfset.pl</a><ul>
<li class="toctree-l2"><a class="reference internal" href="perfset.html#description">Description</a></li>
<li class="toctree-l2"><a class="reference internal" href="perfset.html#usage">Usage</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="corrupt.html">corrupt.pl</a><ul>
<li class="toctree-l2"><a class="reference internal" href="corrupt.html#description">Description</a></li>
<li class="toctree-l2"><a class="reference internal" href="corrupt.html#usage">Usage</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="gather.html">gather.pl</a><ul>
<li class="toctree-l2"><a class="reference internal" href="gather.html#description">Description</a></li>
<li class="toctree-l2"><a class="reference internal" href="gather.html#usage">Usage</a></li>
</ul>
</li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top">
        <i data-toggle="wy-nav-top" class="icon icon-reorder"></i>
        <a href="/">Bit Recovery</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <ul class="wy-breadcrumbs">
  <li><a href="index.html">Docs</a> &raquo;</li>
  <li><a href="">ABOUT</a></li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="_sources/about.txt" rel="nofollow"> View page source</a>
      
    </li>
</ul>
<hr/>

          
  <div class="section" id="about">
<h1>ABOUT<a class="headerlink" href="#about" title="Permalink to this headline">¶</a></h1>
<div class="section" id="data-in-various-stages-of-decay-and-salvation">
<h2>Data in various stages of decay and salvation<a class="headerlink" href="#data-in-various-stages-of-decay-and-salvation" title="Permalink to this headline">¶</a></h2>
<p>When you store TeraBytes of data for many years, some bits in it will decay.
It is hard to get figures about how much damage we can expect.
But it might be in the order of a handful per TB per year.</p>
<p>How do we recover from it? Here is an elegant method.
Add some redundancy, in the form of checksums.
Periodically check the checksums.
When there are errors, use the checksums to correct the errors, if possible.
If it is not possible, use a backup.
But beware: the backup might have errors as well.
Even the checksums themselves might have errors.
Before we explain our strategy, here is an example that it actually works.</p>
<p><strong>1. original</strong></p>
<p>We start with a photo of the author. It is a 436 KB jpeg image. This is indeed the uncorrupted form.</p>
<a class="reference internal image-reference" href="_images/Dirk-orig.jpg"><img alt="_images/Dirk-orig.jpg" src="_images/Dirk-orig.jpg" style="width: 200px;" /></a>
<p><strong>2. 174 bit errors</strong></p>
<p>Now 174 bit errors are added, at random positions</p>
<a class="reference internal image-reference" href="_images/Dirk-174.jpg"><img alt="_images/Dirk-174.jpg" src="_images/Dirk-174.jpg" style="width: 200px;" /></a>
<p><strong>3. 104 errors in the backup</strong></p>
<p>We will also use a backup, but also this one is corrupted: 104 different errors</p>
<a class="reference internal image-reference" href="_images/Dirk-bu-104.jpg"><img alt="_images/Dirk-bu-104.jpg" src="_images/Dirk-bu-104.jpg" style="width: 200px;" /></a>
<p><strong>4-5. 27 + 16 bit errors in the checksum files</strong></p>
<p>We also corrupt the checksums: 27 bit errors</p>
<img alt="_images/Dirk-chk-27.jpg" src="_images/Dirk-chk-27.jpg" />
<img alt="_images/Checksumdiff.jpg" src="_images/Checksumdiff.jpg" />
<p>and the checksums of the backup are not spared either: 16 bit errors</p>
<img alt="_images/Dirk-bu-chk-16.jpg" src="_images/Dirk-bu-chk-16.jpg" />
<p><strong>6. checking the corrupt image with the corrupt checksums</strong></p>
<p>we get 163 damaged blocks</p>
<img alt="_images/Checksumerrors.jpg" src="_images/Checksumerrors.jpg" />
<p><strong>7. after repairing 138 and leaving 25 bit errors</strong></p>
<p>First we try to repair without using the backup, we can repair the majority of damaged blocks, 138.</p>
<a class="reference internal image-reference" href="_images/Dirk-25.jpg"><img alt="_images/Dirk-25.jpg" src="_images/Dirk-25.jpg" style="width: 200px;" /></a>
<p>But 25 remain unrepaired. See the result.</p>
<img alt="_images/Repairresults.jpg" src="_images/Repairresults.jpg" />
<p>Let us again check the checksums. 50 damaged blocks!
But remember that the checksums themselves were faulty!</p>
<img alt="_images/Recheck.jpg" src="_images/Recheck.jpg" />
<p>Yet, by a combination of restoring and repairing it is effectively possible to correct all errors.</p>
<p><strong>8. We need to use the backup</strong></p>
<img alt="_images/Restoreresults.jpg" src="_images/Restoreresults.jpg" />
<p><strong>9. fully restored, thank you</strong></p>
<a class="reference internal image-reference" href="_images/Dirk-restored.jpg"><img alt="_images/Dirk-restored.jpg" src="_images/Dirk-restored.jpg" style="width: 200px;" /></a>
<p><strong>10. There are absolutely no errors left</strong></p>
<img alt="_images/Diff.jpg" src="_images/Diff.jpg" />
</div>
<div class="section" id="account">
<h2>Account<a class="headerlink" href="#account" title="Permalink to this headline">¶</a></h2>
<p>This story I wrote on Good Friday, 2013-03-29.
All data and screenshots were directly taken from the computer when I executed the process as described above.
By the way, that was a Macbook Air, and the whole process is expressed in a Perl script, which only uses the module Digest:MD5.
Both Perl and this module are already present in OSX.</p>
</div>
<div class="section" id="contents">
<h2>Contents<a class="headerlink" href="#contents" title="Permalink to this headline">¶</a></h2>
<p>After that, I have tested extensively.
The code for this lab is in <a class="reference external" href="https://github.com/dirkroorda/bit-recover">Github</a>.
It is a tool for checksumming files in such a way that you can recover from errors.
It also does the recovering.
Besides, it is an environment to test various checksumming algorithms and parameters to see what performs best.
You find also test data of a few dozens of experiments,
summarized in an <a class="reference external" href="https://github.com/dirkroorda/bit-recover/blob/master/experiment/summary.xlsx">excel document</a>.
The code is here (Perl).</p>
<p>There is a program for checksumming files, verifying, repairing and restoring: <em>checksum.pl</em>.</p>
<p>Then there is a setup to do experiments: <a class="reference internal" href="perfset.html#perfset-pl"><em>perfset.pl</em></a> creates a pool of corrupt file and organizes tests of various checksum methods.</p>
<p>The question is: wich checksum methods <em>perform</em> best in the brute force search for the original byte sequence?</p>
<p>In order to make file corrupt, you can run <a class="reference internal" href="corrupt.html#corrupt-pl"><em>corrupt.pl</em></a> with a variety of parameters.</p>
<p>To gather the results of a series of experiments, use <a class="reference internal" href="gather.html#gather-pl"><em>gather.pl</em></a>. It creates a csv file, that you can use to create nice graphics
in a spreadsheet program.</p>
</div>
</div>


          <footer>
  
    <div class="rst-footer-buttons">
      
        <a href="checksum.html" class="btn btn-neutral float-right" title="checksum.pl"/>Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral" title="bit-recover 1.2"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <p>
      &copy; Copyright 2013, Dirk Roorda.
  </p>

  <a href="https://www.github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="http://readthedocs.org">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  

</body>
</html>